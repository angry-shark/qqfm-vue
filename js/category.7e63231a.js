(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{1447:function(t,s,i){},"2a23":function(t,s,i){"use strict";var a=i("3bc4"),e=i.n(a);e.a},"3bc4":function(t,s,i){},"3f44":function(t,s,i){"use strict";var a=i("f65f"),e=i.n(a);e.a},4886:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"category"},[i("Header",{attrs:{title:this.$route.query.type}}),i("AlbumList",{on:{loadAlbumList:t.loadAlbumList}})],1)},e=[],n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-list",{staticClass:"album-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.albumList.list,function(s,a){return i("router-link",{key:a,staticClass:"album",attrs:{to:{name:"album",query:{id:s.id}},tag:"div"}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"mask"}),i("img",{attrs:{src:s.cover,alt:s.name}}),i("i",{staticClass:"iconfont icon-play"})]),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[s.icon?i("span",{staticClass:"icon"},[t._v(t._s(s.icon))]):t._e(),t._v("\n        "+t._s(s.name)+"\n      ")]),i("div",{staticClass:"msg"},[t._v(t._s(s.info))]),i("div",{staticClass:"date"},[t._v(t._s(t.formatDate(s.upload)))])])])}),1)},l=[],o=i("2ef0"),c=i.n(o),u=i("c1df"),r=i.n(u),d=i("2f62"),f={data:function(){return{loading:!1,finished:!1}},computed:Object(d["d"])(["albumList","albumIndex"]),methods:{onLoad:c.a.throttle(function(){this.loading=!0,this.$emit("loadAlbumList",this.albumIndex),this.$store.dispatch("setAlbumIndex",this.albumIndex+1),0!==this.albumList.list.length&&this.albumList.list.length>=this.albumList.total&&(this.finished=!0),this.loading=!1,console.log(this.albumList.list.length,this.albumList.total)},1e3),formatDate:function(t){return r.a.unix(t).format("YYYY-MM-DD")}},mounted:function(){}},m=f,h=(i("3f44"),i("2877")),b=Object(h["a"])(m,n,l,!1,null,"2ed20674",null),v=b.exports,p=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("header",{staticClass:"header"},[i("div",{staticClass:"header-left",on:{click:function(s){return t.$router.back()}}},[i("i",{staticClass:"iconfont icon-return"})]),t.title?i("div",{staticClass:"header-center"},[t._v(t._s(t.title))]):t._e(),i("div",{staticClass:"header-right"})])},g=[],L={props:["title"]},_=L,C=(i("6e9a"),Object(h["a"])(_,p,g,!1,null,"77a93b56",null)),A=C.exports,$=i("f8c8"),x={data:function(){return{type:""}},methods:{getAlbumList:function(t,s){var i=this;$["a"].getAlbum(t,s).then(function(t){t.list=i.$store.state.albumList.list.concat(t.list),i.$store.dispatch("setAlbumList",t)})},loadAlbumList:function(t){console.log(t),this.getAlbumList(this.$route.query.id,t)}},mounted:function(){this.$store.dispatch("setAlbumList",{list:[],total:0}),this.$store.dispatch("setAlbumIndex",0)},components:{AlbumList:v,Header:A}},y=x,k=(i("2a23"),Object(h["a"])(y,a,e,!1,null,"3e51b622",null));s["default"]=k.exports},"6e9a":function(t,s,i){"use strict";var a=i("1447"),e=i.n(a);e.a},f65f:function(t,s,i){}}]);
//# sourceMappingURL=category.7e63231a.js.map