(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["subCategory"],{"0fad":function(t,s,i){},"2f0e":function(t,s,i){"use strict";var a=i("3704"),e=i.n(a);e.a},3704:function(t,s,i){},"3f5f":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"category"},[i("Header",{attrs:{title:this.$route.params.type}}),i("AlbumList",{on:{loadAlbumList:t.loadAlbumList}})],1)},e=[],n=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("van-list",{staticClass:"album-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.albumList.list,function(s,a){return i("router-link",{key:a,staticClass:"album",attrs:{to:{name:"album",params:{id:s.id}},tag:"div"}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"mask"}),i("img",{attrs:{src:s.cover,alt:s.name}}),i("i",{staticClass:"iconfont icon-play"})]),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[s.icon?i("span",{staticClass:"icon"},[t._v(t._s(s.icon))]):t._e(),t._v("\n        "+t._s(s.name)+"\n      ")]),i("div",{staticClass:"msg"},[t._v(t._s(s.info))]),i("div",{staticClass:"date"},[t._v(t._s(t.formatDate(s.upload)))])])])}),1)},l=[],o=i("2ef0"),c=i.n(o),u=i("c1df"),r=i.n(u),d=i("2f62"),m={data:function(){return{loading:!1,finished:!1}},computed:Object(d["d"])(["albumList","albumIndex"]),methods:{onLoad:c.a.throttle(function(){this.loading=!0,this.$emit("loadAlbumList",this.albumIndex),this.$store.dispatch("setAlbumIndex",this.albumIndex+1),0!==this.albumList.list.length&&this.albumList.list.length>=this.albumList.total&&(this.finished=!0),this.loading=!1,console.log(this.albumList.list.length,this.albumList.total)},1e3),formatDate:function(t){return r.a.unix(t).format("YYYY-MM-DD")}},mounted:function(){}},f=m,h=(i("5825"),i("2877")),b=Object(h["a"])(f,n,l,!1,null,"5e365cec",null),v=b.exports,p=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("header",{staticClass:"header"},[i("div",{staticClass:"header-left",on:{click:function(s){return t.$router.back()}}},[i("i",{staticClass:"iconfont icon-return"})]),t.title?i("div",{staticClass:"header-center"},[t._v(t._s(t.title))]):t._e(),i("div",{staticClass:"header-right"})])},g=[],L={props:["title"]},_=L,C=(i("2f0e"),Object(h["a"])(_,p,g,!1,null,"293dcaa8",null)),A=C.exports,$=i("f8c8"),x={data:function(){return{type:""}},methods:{getAlbumList:function(t,s){var i=this;$["a"].getAlbum(t,s).then(function(t){t.list=i.$store.state.albumList.list.concat(t.list),i.$store.dispatch("setAlbumList",t)})},loadAlbumList:function(t){console.log(t),this.getAlbumList(this.$route.params.id,t)}},mounted:function(){this.$store.dispatch("setAlbumList",{list:[],total:0}),this.$store.dispatch("setAlbumIndex",0)},components:{AlbumList:v,Header:A}},k=x,w=(i("b66a"),Object(h["a"])(k,a,e,!1,null,"7ba7ce9d",null));s["default"]=w.exports},5825:function(t,s,i){"use strict";var a=i("b0b6"),e=i.n(a);e.a},b0b6:function(t,s,i){},b66a:function(t,s,i){"use strict";var a=i("0fad"),e=i.n(a);e.a}}]);
//# sourceMappingURL=subCategory.48aaed7b.js.map